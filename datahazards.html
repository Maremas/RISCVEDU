<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,700"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js"></script>
    <title>RISC-V Processor</title>
  </head>
  <body>
    <nav class="nav">
      <h2>
        <a href="/" class="mainlogo"></a>
      </h2>
      <ul class="navlist">
        <li><a href="pipelinediagrams.html">Pipeline Diagrams</a></li>
        <li><a href="datapath.html">Datapath</a></li>
        <li>
          <a href="hazards.html">Hazards</a>
          <ul class="navdropdown">
            <li><a href="structhazards.html">Structural Hazards</a></li>
            <li>
              <a class="selected" href="datahazards.html">Data Hazards</a>
            </li>
            <li><a href="controlhazards.html">Control Hazards</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <h1>Data Hazards</h1>
    <div class="gridcontainerstandard">
      <div class="testgriditem">
        explain forwarding; solving load-use by combination of reordering,
        stalls, forwarding
      </div>
      <div class="testgriditem">
        <b> exercise about forwarding by drawing stage connections</b> <br />
        For the two instructions above, show what pipeline stages would be
        connected by forwarding. Use the drawing in Figure 4.30 to represent the
        datapath during the five stages of the pipeline. Align a copy of the
        datapath for each instruction, similar to the laundry pipeline in Figure
        4.27. Figure 4.31 shows the connection to forward the value in x1 after
        the execution stage of the add instruction as input to the execution
        stage of the sub instruction.
      </div>
      <div id="exercisecontainer" class="testgriditem">
        <b
          >Exercise: solve through stalling first, then reordering, then
          forwarding whilst comparing cpi of all of them
        </b>
        <br />
        lw x1, 0(x31) // load a<br />
        lw x2, 8(x31) // load b <br />
        add x3, x1, x2 // a + b <br />
        sw x3, 24(x31) // store (a + b) <br />
        lw x4, 16(x31) // load c <br />
        add x5, x1, x4 // a + c <br />
        sw x5, 32(x31) // store (a + c) <br />
        <br />
        first part: eliminate hazards by stalling<br />
        second part: reorder to solve load-use hazards <br />
        third part: eliminate hazards other than load-use by forwarding<br />
        <svg id="forwardLines"></svg>
        <table id="pipelinediagramexercise" style="float: left">
          <tr>
            <th>CC 1</th>
            <th>CC 2</th>
            <th>CC 3</th>
            <th>CC 4</th>
            <th>CC 5</th>
            <th>CC 6</th>
            <th>CC 7</th>
            <th>CC 8</th>
            <th>CC 9</th>
            <th>CC 10</th>
            <th>CC 11</th>
            <th>CC 12</th>
            <th>CC 13</th>
            <th>CC 14</th>
            <th>CC 15</th>
          </tr>
          <tr>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="10"></td>
          </tr>
          <tr>
            <td class="nodroptarget"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="9"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="2"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="8"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="3"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="7"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="4"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="6"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="5"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="5"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="6"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="4"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="7"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="3"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="8"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="2"></td>
          </tr>
          <tr>
            <td class="nodroptarget" colspan="9"></td>
            <td class="droptarget" draggable="false" colspan="5"></td>
            <td class="nodroptarget" colspan="1"></td>
          </tr>
        </table>
        <table id="dropOrigin">
          <tr>
            <td
              class="droppable pipelinediagram instrI2 lw"
              draggable="true"
              id="drag1"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable pipelinediagram instrI2 lw"
              draggable="true"
              id="drag2"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable pipelinediagram instrR add"
              draggable="true"
              id="drag3"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable pipelinediagram instrS sw"
              draggable="true"
              id="drag4"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable pipelinediagram instrI2 lw"
              draggable="true"
              id="drag5"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable pipelinediagram instrR add"
              draggable="true"
              id="drag5"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable pipelinediagram instrS sw"
              draggable="true"
              id="drag5"
              colspan="5"
            ></td>
          </tr>
          <tr>
            <td
              class="droppable bubblesvg"
              draggable="true"
              id="drag6"
              colspan="5"
            ></td>
          </tr>
        </table>
      </div>
    </div>
    <footer>
      <p>Copyright &#169; 2024 <a href="/">My Site</a></p>
    </footer>
  </body>
</html>
