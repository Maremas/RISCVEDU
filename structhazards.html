<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,700"
    />
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="scripts/setup.js"></script>
    <script type="module" src="scripts/exercises.js"></script>
    <title>RISC-V Processor</title>
  </head>
  <body>
    <nav class="nav">
      <h2>
        <a href="/" class="mainlogo"></a>
      </h2>
      <ul class="navlist">
        <li><a href="pipelining.html">Pipelining</a></li>
        <li><a href="datapath.html">Datapath</a></li>
        <li>
          <a href="hazards.html">Hazards</a>
          <ul class="navdropdown">
            <li>
              <a class="selected" href="structhazards.html"
                >Structural Hazards</a
              >
            </li>
            <li><a href="datahazards.html">Data Hazards</a></li>
            <li><a href="controlhazards.html">Control Hazards</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <div class="gridcontainerStructHazards">
      <div class="griditemStructHazards">
        <h1>Structural Hazards</h1>
        <p>
          A structural hazard occurs when a planned instruction can not execute
          in the proper clock cycle because the hardware does not support the
          combination of instructions that are set to execute.
        </p>
        <p>
          Imagine doing laundry again. If you use a washer-dryer combination it
          would be impossible for you to execute your laundry pipeline because
          you can not put new laundry in the washer because it is used at the
          same time to dry the first load. <br />
          This structural hazard would not occur if you have a seperate washer
          and dryer.
        </p>
        <p>
          In a processor pipeline we could get to the point where a structural
          hazard occurs after four instructions. This is because then, our first
          instruction would access data from the memory while the fourth
          instruction would fetch information from the memory in the same clock
          cycle.
        </p>
        <p>
          The RISC-V instruction set was designed to be pipelined, which makes
          it easy to avoid having structural hazards. This comes from the fact
          that it uses two memories instead of just a single one.
        </p>
      </div>
      <div class="griditemStructHazards exercise">
        <form id="structForm">
          Consider we designed our hardware to have only
          <b>one memory for both instructions and data</b>.
          <br />
          How many stalls would occur due to conflicts caused by structural
          hazards, i. e. resource conflicts due to our memory design choice?<br />
          <input type="radio" id="noc" name="conflicts" value="noc" />
          <label for="noc">no conflicts</label><br />
          <input type="radio" id="onec1" name="conflicts" value="onec1" />
          <label for="onec1">one conflict between lw and sw</label><br />
          <input type="radio" id="onec2" name="conflicts" value="onec2" />
          <label for="onec2">one conflict between add and sub</label><br />
          <input type="radio" id="twoc" name="conflicts" value="twoc" />
          <label for="twoc">two conflicts between lw and sw, add and sub</label
          ><br />
          <input id="structForm1Submit" type="button" value="Submit" />
        </form>
        <div id="structFeedback" class="feedback"></div>
        <form id="structForm2">
          <br />
          How many clock cycles do we have to stall the sw instruction to solve
          the hazard?
          <br />
          <input type="radio" id="ones" name="stalls" value="ones" />
          <label for="ones">1</label><br />
          <input type="radio" id="twos" name="stalls" value="twos" />
          <label for="twos">2</label><br />
          <input type="radio" id="threes" name="stalls" value="threes" />
          <label for="threes">3</label><br />
          <input id="structForm2Submit" type="button" value="Submit" />
        </form>
        <div id="structFeedback2" class="feedback"></div>
        <table id="structExerciseTable">
          <tr>
            <th>CC 1</th>
            <th>CC 2</th>
            <th>CC 3</th>
            <th>CC 4</th>
            <th>CC 5</th>
            <th>CC 6</th>
            <th>CC 7</th>
            <th>CC 8</th>
            <th>CC 9</th>
          </tr>
          <tr>
            <td class="pipelinediagram instrI2 lw" colspan="5"></td>
            <td class="placeholder" colspan="4"></td>
          </tr>
          <tr>
            <td class="placeholder"></td>
            <td class="pipelinediagram instrR add" colspan="5"></td>
            <td class="placeholder" colspan="3"></td>
          </tr>
          <tr>
            <td class="placeholder" colspan="2"></td>
            <td class="pipelinediagram instrB beq" colspan="5"></td>
            <td class="placeholder" colspan="2"></td>
          </tr>
          <tr>
            <td class="placeholder" colspan="3"></td>
            <td class="pipelinediagram instrS sw" colspan="5"></td>
            <td class="placeholder" colspan="1"></td>
          </tr>
          <tr>
            <td class="placeholder" colspan="4"></td>
            <td class="pipelinediagram instrR sub" colspan="5"></td>
          </tr>
        </table>
      </div>
      <div class="griditemStructHazards">
        <a href="/hazards.html" class="previous">&laquo; Hazards</a>
        <a href="/datahazards.html" class="next">Data Hazards &raquo;</a>
      </div>
    </div>
    <footer>
      Copyright &#169; 2024
      <a href="https://github.com/Maremas/RISCVEDU"
        >Tim Gaisbauer, Marius Henrich</a
      >
    </footer>
    <noscript
      >This website needs JavaScript to be enabled to work properly. Please
      enable JavaScript in your browser.
    </noscript>
  </body>
</html>
